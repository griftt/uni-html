(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/list"],{"0bc1":function(e,n,t){"use strict";var o=t("4d5e"),i=t.n(o);i.a},4011:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t,o,i,r,a){try{var u=e[r](a),s=u.value}catch(l){return void t(l)}u.done?n(s):Promise.resolve(s).then(o,i)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(o,i){var a=e.apply(n,t);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)})}}var u=function(){return t.e("components/uni-load-more/uni-load-more").then(t.bind(null,"9d20"))},s={components:{uniLoadMore:u},data:function(){return{cateMaskState:0,headerPosition:"fixed",headerTop:"0px",loadingType:"more",filterIndex:0,cateId:0,priceOrder:0,cateList:[],goodsList:[]}},onLoad:function(e){this.cateId=e.tid,this.loadCateList(e.fid,e.sid),this.loadData()},onPageScroll:function(e){e.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.loadData()},methods:{loadCateList:function(){var e=a(o.default.mark(function e(n,t){var i,r;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.json("cateList");case 2:i=e.sent,r=i.filter(function(e){return e.pid==n}),r.forEach(function(e){var n=i.filter(function(n){return n.pid==e.id});e.child=n}),this.cateList=r;case 6:case"end":return e.stop()}},e,this)}));function n(n,t){return e.apply(this,arguments)}return n}(),loadData:function(){var n=a(o.default.mark(function n(){var t,i,r,a=this,u=arguments;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:"add",i=u.length>1?u[1]:void 0,"add"!==t){n.next=8;break}if("nomore"!==this.loadingType){n.next=5;break}return n.abrupt("return");case 5:this.loadingType="loading",n.next=9;break;case 8:this.loadingType="more";case 9:return n.next=11,this.$api.json("goodsList");case 11:r=n.sent,"refresh"===t&&(this.goodsList=[]),1===this.filterIndex&&r.sort(function(e,n){return n.sales-e.sales}),2===this.filterIndex&&r.sort(function(e,n){return 1==a.priceOrder?e.price-n.price:n.price-e.price}),this.goodsList=this.goodsList.concat(r),this.loadingType=this.goodsList.length>20?"nomore":"more","refresh"===t&&(1==i?e.hideLoading():e.stopPullDownRefresh());case 18:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),tabClick:function(n){this.filterIndex===n&&2!==n||(this.filterIndex=n,this.priceOrder=2===n?1===this.priceOrder?2:1:0,e.pageScrollTo({duration:300,scrollTop:0}),this.loadData("refresh",1),e.showLoading({title:"正在加载"}))},toggleCateMask:function(e){var n=this,t="show"===e?10:300,o="show"===e?1:0;this.cateMaskState=2,setTimeout(function(){n.cateMaskState=o},t)},changeCate:function(n){this.cateId=n.id,this.toggleCateMask(),e.pageScrollTo({duration:300,scrollTop:0}),this.loadData("refresh",1),e.showLoading({title:"正在加载"})},navToDetailPage:function(n){var t=n.title;e.navigateTo({url:"/pages/product/product?id=".concat(t)})},stopPrevent:function(){}}};n.default=s}).call(this,t("543d")["default"])},"4aa3":function(e,n,t){"use strict";t.r(n);var o=t("4011"),i=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,function(){return o[e]})}(r);n["default"]=i.a},"4d5e":function(e,n){throw new Error("Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\nError: Cannot find module 'D:\\HBuilderX\\plugins\\compile-node-sass\\node_modules\\node-sass-china'\n    at Function.Module._resolveFilename (module.js:547:15)\n    at Function.Module._resolveFilename (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\module-alias\\index.js:49:29)\n    at Function.Module._load (module.js:474:25)\n    at Module.require (module.js:596:17)\n    at require (internal/module.js:11:18)\n    at Object.sassLoader (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\sass-loader\\lib\\loader.js:46:72)\n    at runLoaders (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\webpack\\lib\\NormalModule.js:301:20)\n    at D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:367:11\n    at D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:233:18\n    at runSyncOrAsync (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:143:3)\n    at iterateNormalLoaders (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:232:2)\n    at iterateNormalLoaders (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:221:10)\n    at D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:236:3\n    at Object.context.callback (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at Object.module.exports (D:\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\@dcloudio\\vue-cli-plugin-uni\\packages\\webpack-preprocess-loader\\index.js:60:10)")},"9fd2":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return i})},cadb:function(e,n,t){"use strict";t.r(n);var o=t("9fd2"),i=t("4aa3");for(var r in i)"default"!==r&&function(e){t.d(n,e,function(){return i[e]})}(r);t("0bc1");var a=t("2877"),u=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);n["default"]=u.exports},d835:function(e,n,t){"use strict";(function(e){t("6b77"),t("921b");o(t("66fd"));var n=o(t("cadb"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["d835","common/runtime","common/vendor"]]]);